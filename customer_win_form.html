<!--user window-->
<script>

    function showRegion() {
        load_region_tree_data($('#customer_region'))
    }

    function region_tree_click(node) {
        if (node.type != 'city') {
           // alert('请选择城市')
            show_messager("请选择城市")
            $('#customer_region').combotree('showPanel')
        }
        /*
        if (node.type != 'city') {
            alert('1请选择城市' + oldText)
            $('#customer_region').combotree('setValue', {text:oldText, id:oldText})
        } else {
            $('#customer_region').combotree('setValue', {text: node.text, id: node.text})
        }*/
    }

    function before_region_select(node) {
        console.log(node)
        if (node.type != 'city') {

            //$.messager.alert({title:"警告", msg:"请选择城市", zIndex:1000000})
           // $('#customer_region').combo('showPanel')
            return false;
        }

        return true
    }
</script>

<div id="customer_win" class="easyui-window" title="用户信息"
     data-options="constrain:true, modal:true, minimizable:false,maximizable:false,collapsible:false, closed:true, border:'thin'"
     style="width:660px;height:600px;padding:20px 30px; ">

    <table style="width:600px;">
        <tr>
            <td> 客户名称：
            </td>
            <td>
                <input class="easyui-textbox" id="customer_name" style="display:inline;width:250px;"
                       data-options="required:true">
                <input type="hidden" id="customer_id"/></td>
            <td>联&nbsp;&nbsp;系&nbsp;&nbsp;人：</td>
            <td>
                <input class="easyui-textbox" id="customer_principal" style="display:inline;width:150px;"
                       data-options="required:true">
            </td>
        </tr>
        <tr>
            <td>所属地区：</td>
            <td>
                <input class="easyui-combotree" id="customer_region"
                       data-options="data:[], onShowPanel:showRegion, onClick:region_tree_click, onBeforeSelect:before_region_select"
                       style="display:inline;width:250px">
            </td>
            <td>
                电&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;话：
            </td>
            <td>
                <input class="easyui-textbox" id="customer_phone" style="display:inline;width:150px;"
                       data-options="required:true">
            </td>
        </tr>
        <tr>
            <td>地&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;址：</td>
            <td colspan="3">
                <input class="easyui-textbox" id="customer_address" style="display:inline;width:504px;"
                       data-options="required:true"></td>
        </tr>
        <tr>
            <td colspan="4">
                <table id="product_grid" title="产品列表" style="width:580px;height:300px"></table>
            </td>
        </tr>
    </table>


    <div style="text-align:right; padding:0px 0px; margin:20px 10px 0px 0px">
        <a href="javascript:void(0)" class="easyui-linkbutton" data-options="width:120, height:30"
           id="btn_customer_operator" onclick="customer_operator()">确定保存</a>
    </div>

</div>